\documentclass[%
    paper=A4,               % paper size --> A4 is default in Germany
    twoside=true,           % onesite or twoside printing
    openright,              % doublepage cleaning ends up right side
    chapterprefix=true,     % prefix for chapter marks
    12pt,                   % font size
    headings=normal,        % size of headings
    bibliography=totoc,     % include bib in toc
    titlepage=on,           % own page for each title page
    captions=tableabove,    % display table captions above the float env
    draft=false             % value for draft version
]{book}%


% =============================================================
% CONFIGURATION FILES
% =============================================================
\input{../configuration/comon_packages.tex}
\input{../configuration/caption.tex}
\input{../configuration/sourcecode.tex}
\input{../configuration/variables.tex}
\input{../configuration/style.tex}
\input{../configuration/conftikz.tex}
\input{../configuration/bibliography.tex}
\input{../configuration/nomenclature.tex}

% You can add your own package/configuration here
\input{../configuration/custom_packages.tex}
% =============================================================


% =============================================================
% BEGIN DOCUMENT
% =============================================================
\begin{document}

% Define mainfile in order to know if we are compiling
% the main document of not (standalone class)
\newcommand{\mainfile}{}

% Should ref all documents from bib
\nocite{*}

% =============================================================
% TITLE PAGE
% =============================================================
\input{../titlepage/titlepage.tex}
% =============================================================


% =============================================================
% FRONT MATTER
% =============================================================
% Configuration for the front matter
\input{../configuration/frontmatter.tex}

% Remerciements
\input{../frontmatter/remerciements.tex}\clearpage{}

% Résumé en Français
\input{../frontmatter/abstract_fr.tex}\clearpage{}

% Résumé en anglais
\input{../frontmatter/abstract_en.tex}\clearpage{}

% Table des matières
\input{../frontmatter/tableofcontents.tex}\clearpage{}\phantomsection{}

% Table des figures
\input{../frontmatter/listoffigures.tex}\clearpage{}\phantomsection{}

% Liste des codes sources
\input{../frontmatter/listoflistings.tex}\clearpage{}\phantomsection{}

% Nomenclature
\input{../frontmatter/nomenclature.tex}\clearpage{}
% =============================================================


% =============================================================
% MAIN MATTER
% =============================================================
% Configuration for the main matter
\input{../configuration/mainmatter.tex}

% Introduction
\input{../introduction/introduction.tex}

% Chapitre 1
\input{../chap1/chap1.tex}

% Chapitre 2
\input{../chap2/chap2.tex}

% Conclusion
\input{../conclusion/conclusion.tex}
% =============================================================


% =============================================================
% ANNEXES
% =============================================================
% Add some separation for the table of contents
\addtocontents{toc}{\protect\vskip2em}
\input{../appendix/appendix.tex}
% =============================================================


% =============================================================
% BIBLIOGRAPHIE
% =============================================================
% Add some separation for the table of contents
\addtocontents{toc}{\protect\vskip2em}

\thispagestyle{frontmatterstyle}\pagestyle{frontmatterstyle}
\backmatter{}
\clearpage{}

% Bibliography
\printbibliography[
    heading=bibliography
]
% =============================================================

% =============================================================
% END DOCUMENT
% =============================================================
\end{document}

